{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
   <!-- Required Meta tag -->
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">

   <!-- Fontawesome -->
   <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">

    <!-- SEO -->
    <meta name="description" content="Download Facebook videos for free with fvidon.com. Our tool is very simple and easy to use, just paste any facebook video and choose the format you want and then download.">
    <meta name="robots" content="index, follow">

   <!-- Bootstrap CSS -->
   <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">

   <!-- Custom CSS -->
   <link rel="stylesheet" href="{% static 'css/style.css' %}">

   <!-- Favicon and title of the page -->
   <link rel="shortcut icon" href="{% static 'favicon/favicon.ico' %}" type="image/x-icon">
   <title>Facebook Downloader | Download Facebook Videos Online</title>
   <meta name="application-name" content="fvidon">

</head>


<body id="home" data-spy="scroll" data-target="#main-nav">

<!-- NAVBAR -->

   {% include 'includes/_navbar.html' %}

<!-- NEWSLETTER -->
   <section id="download" class="bg-light text-white py-5">
      <div class="container">

         <div class="row">
            <div class="col">
                <div class="text-center">
                    <h1 class="text-primary pb-3 ">Facebook Video Downloader</h1>
                </div>
               <div class="info-header mb-5 text-center">
                  <p class="lead mb-5 text-dark"> Download Facebook videos for free, without any fuss!</p>
               </div>
            </div>
         </div>

         <form method="POST" id="yt_link"> {% csrf_token %}
            <div class="row">
               <div class="col-md-8">
                  <input type="text" id="link_input" class="download form-control form-control-lg mb-res" placeholder="Enter Facebook Video Link here..." name="link">
               </div>
               <div class="col-md-4 text-center">
                  <!--button type="submit" class="btn btn-outline-primary btn-lg">
                     <i class="fas fa-download"></i> Download
                  </button-->
                  <button class="btn-red" type="submit" id="dl_button">Download</button>
               </div>
            </div>
         </form>

          <div class="row justify-content-center" id="new_form">

          </div>

          <div id="add_loading" class="d-flex justify-content-center">

          </div>
          <div id="add_loading2nd" class="d-flex justify-content-center">

          </div>


          <div class="row justify-content-center" id="new_form2">

          </div>
      </div>
   </section>

<!-- BOXES -->
   <section id="boxes" class="py-5">
      <div class="container">

          <div class="row">
            <div class="col">
                <div class="text-center">
                    <h1 class="text-primary pb-3 ">How to download video?</h1>
                </div>
               <div class="text-center">

                  <p class="lead mb-5">fvidon.com is simple and easy to use. We don't ask you to download any program/software
                     to download facebook videos, therefore virtually no risk of getting hacked or infecting your device with virus.</p>
               </div>
            </div>
         </div>

         <div class="row">
            <div class="col-md-4">
               <div id="step1_1" class="card text-center bg-primary text-white mb-res">
                  <div class="card-body" style="height: 10rem;">
                     <h3 id="step1_2">Step One</h3>
                     <p id="step1_3">First paste Facebook video link into the form field.</p>
                  </div>
               </div>
            </div>
            <div class="col-md-4"><div class="card text-center border-primary mb-res" id='step2_1'>
               <div class="card-body" style="height: 10rem;">
                  <h3 id="step2_2" class="text-primary">Step Two</h3>
                  <p id="step2_3" class="text-muted">Choose output HD, SD or Audio format you want to download and click "Get Link" button.</p>
               </div>
            </div>
            </div>
            <div class="col-md-4"><div class="card text-center border-primary mb-res" id="step3_1">
               <div class="card-body" style="height: 10rem;">
                  <h3 id="step3_2" class="text-primary">Step Three</h3>
                  <p id="step3_3" class="text-muted">Wait until the conversion is completed and download the file. Very easy and super fast.</p>
               </div>
            </div></div>   
         </div>
      </div>
   </section>

<!-- ABOUT / Q & A SECTION -->

   <section id="about" class="py-5 text-center bg-light">
      <div class="container">
         <div class="row">
            <div class="col">
               <div class="info-header mb-5">
                  <h2 class="text-primary h1 pb-3">Why This Facebook Video Downloader?</h2>
                  <p class="lead pb-3 ">There are zillions of ways to download facebook videos but ours fvidon is a bit exceptional than others. Unlike other method we don't require you to download any software. Our solution is 100% online based.</p>
               </div>

               <!-- Accordian -->

               <div id="accordian">
                  <div class="card">
                     <div class="card-header">
                        <div class="mb-0" href="#collapse1" data-toggle="collapse" data-parent="#accordian">
                           <h5>
                              <i class="fas fa-arrow-circle-down">What is the fastest way to download Facebook videos?</i>
                           </h5>
                        </div>
                     </div>
                     <div id="collapse1" class="collapse show">
                        <div class="card-body">
                           Using our website to download Facebook video is pretty darn fast and simple.
                        </div>
                     </div>
                  </div>

                  <div class="card">
                     <div class="card-header">
                        <div class="mb-0" href="#collapse2" data-toggle="collapse" data-parent="#accordian">
                           <h5>
                              <i class="fas fa-arrow-circle-down">What are the supported video/audio formats?</i>
                           </h5>
                        </div>
                     </div>
                     <div id="collapse2" class="collapse">
                        <div class="card-body">
                           Currently we support all the format supported by Facebook, SD or HD. On top of that we support Facebook video to mp3/audio conversion feature. Need only audio of a video you like? You can use fvidon.com.
                        </div>
                     </div>
                  </div>

                  <div class="card">
                     <div class="card-header">
                        <div class="mb-0" href="#collapse3" data-toggle="collapse" data-parent="#accordian">
                           <h5>
                              <i class="fas fa-arrow-circle-down">What are the compatible devices for the conversion?</i>
                           </h5>
                        </div>
                     </div>
                     <div id="collapse3" class="collapse">
                        <div class="card-body">
                           Unlike other Facebook video downloader we are not limited by any specific system/architecture. We support all devices, mobile, iphone, android, PC, laptop, literally anything that can browse the modern internet.
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </section>

<!-- Features -->

   <section id="features" class="my-5 text-center">
      <div class="container">
         <div class="row">
            <div class="col">
               <div class="info-header mb-5">
                  <h1 class="text-primary pb-3">The best Facebook Downloader Online</h1>
                  <p class="lead mb-5">Download Facebook videos in SD or HD for free, no fuss.</p>
               </div>
            </div>
         </div>

         <div class="row">
            <div class="col-lg-4 col-md-6 mb-resp">
               <div class="card">
                  <div class="card-body" style="height: 17rem;">
                     <i class="fas fa-bolt fa-2x"></i>
                     <h3>Fast & Easy to use</h3>
                     Downloading Facebook videos using fvidon web-app is the easiest way you will ever find. Simply copy video link and paste here, wait for few moments and your video link will be ready for you to download.
                  </div>
               </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-resp">
               <div class="card">
                  <div class="card-body" style="height: 17rem;">
                     <i class="fas fa-user-shield fa-2x"></i>
                     <h3>Full Safety</h3>
                     Downloading and installing any unknown program from the internet is never safe considering rising amount of hacking and data theft. Our tool is 100% online based and does the same job like any native tool, even faster and simply.
                  </div>
               </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-resp">
               <div class="card">
                  <div class="card-body" style="height: 17rem;">
                     <i class="fas fa-infinity fa-2x"></i>
                     <h3>Without limitation</h3>
                     Download Facebook videos or convert Facebook videos to audio as much as you want without any limitation. Our service is always free of cost.
                  </div>
               </div>
            </div>
         </div>

         <div class="row mt-5">
            <div class="col-lg-4 col-md-6 mb-resp">
               <div class="card">
                  <div class="card-body" style="height: 17rem;">
                     <i class="fas fa-tablet-alt fa-2x"></i>
                     <h3>All platforms supported</h3>
                     fvidon.com supports all device platforms. Easy to download fb videos or the feature which that allows converting Facebook video to MP3 files regardless of whether you are using Windows, Mac or Linux, Android, iPhone.
                  </div>
               </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-resp">
               <div class="card">
                  <div class="card-body" style="height: 17rem;">
                     <i class="fas fa-video fa-2x"></i>
                     <h3>All video formats</h3>
                  We support all video formats. You can easily download FB videos. We support fast full hd facebook video and audio conversion.
                  </div>
               </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-resp">
               <div class="card">
                  <div class="card-body" style="height: 17rem;">
                     <i class="fas fa-file-audio fa-2x"></i>
                     <h3>Facebook to Audio</h3>
                     Not only facebook video downloading, we have also worked on to support 128kbps audio conversion of facebook video. And like downloading fb video, you follow the same steps.
                  </div>
               </div>
            </div>
         </div>
      </div>
   </section>
<div class="d-flex justify-content-center">
    <div style="width: 50rem" class="alert alert-success text-center"  role="alert">
          Vidon Android app is upcoming!
        </div>
     </div>

   <!-- CONTACT -->
    {% include 'includes/_contact_front.html' %}

<!-- FOOTER -->
    {% include 'includes/_footer.html' %}

   <!-- jQuery file -->
   <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

   <!-- Bootstrap jQuery file -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

   <!-- Custom jQuery -->
   <script>
      // get the current year for copywrite
      $('#year').text(new Date().getFullYear());

      // Init ScrollSpy
      $('body').scrollspy({target: '#main-nav'});

      // Smooth Scrolling
      $('#main-nav a').on('click', function(event) {
         if(this.hash !== '') {
            event.preventDefault();
            const hash = this.hash;

            $('html, body').animate ( {
               scrollTop: $(hash).offset().top
            }, 800, function() {
               window.location.hash = hash;
            });
         }
      });

   </script>

<script>
    $('#new_form').on('click', '#dl3_button', function(ee) {
        ee.preventDefault();

        $('#step2_1').attr('class', 'card text-center border-primary mb-res')
        $('#step2_2').attr('class', 'text-primary')
        $('#step2_3').attr('class', 'text-muted')

        $('#step3_1').attr('class', 'card text-center bg-primary text-white mb-res')
        $('#step3_2').attr('class', '')
        $('#step3_3').attr('class', '')


      var form = $(this).closest("form");
      $.ajax({
        type: 'POST',

        url: "{% url 'fbdl:fbdl_aj_2' %}",
        data: form.serialize(),
        //dataType: 'json',
          beforeSend : function(){
          $('#link_input').remove()
          $('#new_form').remove()
          $("#dl3_button").attr('type', 'hidden')
          $("#sel1").attr('type', 'hidden')
          $("#add_loading2nd").prepend(
                `<button class="btn btn-primary btn-lg" type="button">
                  <span class="spinner-border spinner-border-sm text-light" style="width: 1.5rem; height: 1.5rem;" role="status" aria-hidden="true"></span>&nbsp;
                  Getting Link Now..
                </button>`
            )
        },
        success: function (data) {
            var res_data = data;
            $("#add_loading2nd").remove()
            $('#unique_id').attr('value', res_data['unique_id']);
            if (res_data['device'] === 'iOS') {
                $("#new_form2").prepend(
                    `<div class="col-6">
                          <div class="form-group">
                          <label class="text-primary" for="sel1">Chosen Format:</label>
                          <select class="form-control" id="sel1" name="video_format" disabled="disabled">
                            <option selected="selected">${res_data['format']}</option>

                          </select>
                        </div>

                        <div class="d-flex justify-content-center" id="to_remove">
                            <a href="${res_data['dl_url']}" download target="_blank" style="background: #1d86e0; box-shadow:0 4px 8px rgb(12, 89, 193); -moz-border-radius:12px; -webkit-border-radius:12px; -khtml-border-radius:12px; border-radius:10px; padding:8px 30px; display:inline-block; border:none; color:#fdfdfe; font-size:16px; font-weight:600; cursor:pointer; transition:all .3s" class="btn btn-primary float-right mb-4" id="dl4_button">Download Now</a>
                        </div>

                        <div class="d-flex justify-content-center" id="to_remove3">
                        <a class="btn btn-success btn-sm mb-4 text-white" href="/" role="button">Download Next</a>
                        </div>

                    </div>`
                )
            }
            else {
            $("#new_form2").prepend(
                    `<div class="col-6">
                    <form method="POST" id="for_ajax"> {% csrf_token %}

                          <div class="form-group">
                          <label class="text-primary" for="sel1">Chosen Format:</label>
                          <select class="form-control" id="sel1" name="video_format" disabled="disabled">
                            <option selected="selected">${res_data['format']}</option>

                          </select>
                        </div>

                        <input type="hidden" id="custId" name="link2" value="">
                        <input type="hidden" id="unique_id" name="unique_id" value="${res_data['unique_id']}">

                        <div class="d-flex justify-content-center" id="
                        ">
                          <input type="submit" value="Download Now.." style="background: #1d86e0; box-shadow:0 4px 10px rgb(12, 89, 193); -moz-border-radius:12px; -webkit-border-radius:12px; -khtml-border-radius:12px; border-radius:12px; padding:12px 20px; display:inline-block; border:none; color:#fdfdfe; font-size:17px; font-weight:600; cursor:pointer; transition:all .3s" class="float-right mb-3" id="dl4_button">
                        </div>

                        <div class="d-flex justify-content-center" id="to_remove3">
                        <a class="btn btn-primary btn-sm mb-3 text-white" href="/" role="button">Download Next</a>
                        </div>
                    </form>
                    </div>`
                )
            }
            // ends


            $("#dl4_button").hover(function() {
              $(this).css({"background-color": "#4a474c",'color': '#fff;', 'box-shadow': 'none'})
            }).mouseout(function(){
              $(this).css({"background-color":"#1d86e0",});
          });


        },
          error: function(jqXHR, textStatus, errorThrown) {
          alert(jqXHR.responseJSON['error'] + ' .Try again.')
        }
      });

    });

    $("#yt_link").submit(function (e) {
      e.preventDefault();

      var form = $(this).closest("form");
      $.ajax({
        type: 'POST',
        url: "{% url 'fbdl:fbdl_aj_1' %}",
        data: form.serialize(),
        //dataType: 'json',
      beforeSend : function(){
          $('#dl_button').css('display', 'none')
          $('#link_input').attr('type', 'hidden')
          $("#add_loading").prepend(
                `<br><button class="btn btn-primary btn-lg" type="button">
                  <span class="spinner-border spinner-border-sm text-light" style="width: 1.5rem; height: 1.5rem;" role="status" aria-hidden="true"></span>&nbsp;
                  Getting Formats
                </button>`
            )
        },
        success: function (data) {
            let link_input = $('#link_input').val();

            $('#add_loading').remove()

            $("#yt_link").remove();
            var to_prep_nf = `
                <div class="col-6">
                <form method="POST" id="for_ajax"> {% csrf_token %}

              <div class="form-group">
              <label class="text-primary" for="sel1">Choose a Format:</label>
              <select class="form-control" id="sel1" name="video_format">`

            for (let item in data) {
              to_prep_nf += `<option value="${item}">${item}</option>`
            }

            to_prep_nf += `<option value="Audio">Audio</option>
                        </select>
                        </div>

                        <input type="hidden" id="custId" name="link2" value="${link_input}">

                        <div class="d-flex justify-content-center" id="to_remove">
                          <input type="submit" value="Get Link" style="background: #1d86e0; box-shadow:0 4px 10px rgb(12, 89, 193); -moz-border-radius:12px; -webkit-border-radius:12px; -khtml-border-radius:12px; border-radius:12px; padding:12px 30px; display:inline-block; border:none; color:#fdfdfe; font-size:17px; font-weight:600; cursor:pointer; transition:all .3s" class="float-right" id="dl3_button">
                        </div>
                    </form>
                    </div>
                       `
            $("#new_form").prepend(
                    to_prep_nf
                )
            $("#dl3_button").hover(function() {
              $(this).css({"background-color": "#4a474c",'color': '#fff;', 'box-shadow': 'none'})
            }).mouseout(function(){
              $(this).css({"background-color":"#1374c6",});
          });
        },
        error: function(jqXHR, textStatus, errorThrown) {
            $("#add_loading").empty()

            alert(jqXHR.responseJSON['error'])

            $('#dl_button').css('display', 'inline-block')
            $('#link_input').attr('type', '')
            $('#link_input').val('')

            $('#step2_1').attr('class', 'card text-center border-primary mb-res')
            $('#step2_2').attr('class', 'text-primary')
            $('#step2_3').attr('class', 'text-muted')

            $('#step1_1').attr('class', 'card text-center bg-primary text-white mb-res')
            $('#step1_2').attr('class', '')
            $('#step1_3').attr('class', '')
        }
      });
    });

  </script>

<script>
    /*
    Script to change steps
     */

    $("#dl_button").click(function(){
        $('#step1_1').attr('class', 'card text-center border-primary mb-res')
        $('#step1_2').attr('class', 'text-primary')
        $('#step1_3').attr('class', 'text-muted')

        $('#step2_1').attr('class', 'card text-center bg-primary text-white mb-res')
        $('#step2_2').attr('class', '')
        $('#step2_3').attr('class', '')
    })

    $("#dl3_button").click(function(){
        $('#step2_1').attr('class', 'card text-center border-primary mb-res')
        $('#step2_2').attr('class', 'text-primary')
        $('#step2_3').attr('class', 'text-muted')

        $('#step3_1').attr('class', 'card text-center bg-primary text-white mb-res')
        $('#step3_2').attr('class', '')
        $('#step3_3').attr('class', '')
    })
</script>

</body>
</html>
